@using SBS_Ecommerce.Models;
@using SBS_Ecommerce.Framework;
@{
    ViewBag.Title = "Orders";
    Layout = "~/Views/Admin/_LayoutAdmin.cshtml";
    List<Order> pendingOrders = ViewBag.PendingOrders;
    List<Order> processingOrders = ViewBag.ProcessingOrders;
    List<Order> completeOrders = ViewBag.CompleteOrders;
    List<Order> canceledOrders = ViewBag.CancelOrders;

    // Shipping Status
    var shippingStatus = new Dictionary<int, string>();
    shippingStatus.Add(10, "Shipping Not Required");
    shippingStatus.Add(20, "Not Shipped Yet");
    shippingStatus.Add(25, "Partially Shipped");
    shippingStatus.Add(30, "Shipped");
    shippingStatus.Add(40, "Delivered");

    var dateFilter = new Dictionary<string, string>();
    dateFilter.Add("asc", "Newest");
    dateFilter.Add("desc", "Oldest");
    dateFilter.Add("spec", "Specific day");
}
<script src="~/Content/Admin/js/order-management.js"></script>
<div id="order-manage">
    <div class="col-md-12">
        <br /><br />
        <div class="filter">
            <form class="filter-content" method="get">
                <div class="filter-wrapper">
                    <div class="filter-status">
                        <label>Status:</label>
                        <select id="filter-status" name="filter-status">
                            @foreach (var item in shippingStatus)
                            {
                                <option value="@item.Key">@item.Value</option>
                            }
                        </select>
                    </div>
                    <div class="filter-date">
                        <label>Date:</label>
                        <select id="filter-date" name="filter-date">
                            @foreach (var item in dateFilter)
                            {
                                <option value="@item.Key">@item.Value</option>
                            }
                        </select>
                    </div>

                    <div class="specific-day">
                        <div class="date-from-wrapper">
                            <div>
                                <label>Date From: </label>
                            </div>
                            <div class="input-group date" id="date-from">
                                <input id="dateFrom" type="text">
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </div>
                        </div>
                        <div class="date-to-wrapper">
                            <div>
                                <label>Date To: </label>
                            </div>
                            <div class="input-group date" id="date-to">
                                <input id="dateTo" type="text">
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="filter-button">
                        <input type="button" id="filter-btn" class="btn btn-success" value="Filter" />
                    </div>
                </div>
            </form>
        </div>
        <br />
        <ul class="nav nav-tabs tablist-order" role="tablist">
            <li role="presentation" class="active"><a href="#pending" role="tab" data-toggle="tab" data-id="10" onclick="onTabChange(this)">Pending</a></li>
            @*<li role="presentation"><a href="#processing" role="tab" data-toggle="tab" data-id="20" onclick="onTabChange(this)">Processing</a></li>
            <li role="presentation"><a href="#completed" role="tab" data-toggle="tab" data-id="40" onclick="onTabChange(this)">Completed</a></li>
            <li role="presentation"><a href="#canceled" role="tab" data-toggle="tab" data-id="50" onclick="onTabChange(this)">Canceled</a></li>*@
        </ul>

        <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade in active" id="pending">
                <div class="row">
                    <div class="panel-body">
                        @if (!pendingOrders.IsNullOrEmpty())
                        {
                            <table id="cart_summary" class="cart_summery col-md-12 table-striped table">
                                <thead>
                                    <tr>
                                        <th class="cart_product">ID</th>
                                        <th class="order_date">Submit Date</th>
                                        <th class="order_date">Num of Products</th>
                                        <th class="order_total">Total Amount</th>
                                        <th class="order_note">Note</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in pendingOrders)
                                    {
                                        <tr data-id="@item.OrderId" data-toggle="modal" class="clickable-row">
                                            <td class="cart_product_content">@item.OrderId</td>
                                            <td class="order_date">@item.CreatedAt</td>
                                            <td class="order_date">@item.CountProduct</td>
                                            <td class="order_total">@item.TotalAmount</td>
                                            <td class="order_note"></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <h5>Have no Orders yet.</h5>
                        }
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="processing">
                <div class="row">
                    <div class="panel-body">
                        @if (!processingOrders.IsNullOrEmpty())
                        {
                            <table id="cart_summary" class="cart_summery col-md-12 table-striped table">
                                <thead>
                                    <tr>
                                        <th class="cart_product" style="width:20%">ID</th>
                                        <th class="order_date" style="width:20%">Submit Date</th>
                                        <th class="order_date" style="width:20%">Num of Products</th>
                                        <th class="order_total" style="width:20%">Total Amount</th>
                                        <th class="order_note" style="width:20%">Note</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in processingOrders)
                                    {
                                        <tr data-id="@item.OrderId" data-toggle="modal" class="clickable-row">
                                            <td class="cart_product_content">@item.OrderId</td>
                                            <td class="order_date">@item.CreatedAt</td>
                                            <td class="order_date">@item.CountProduct</td>
                                            <td class="order_total">@item.TotalAmount</td>
                                            <td class="order_note"></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <h5>Have no Orders yet.</h5>
                        }
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="completed">
                <div class="row">
                    <div class="panel-body">
                        @if (!completeOrders.IsNullOrEmpty())
                        {
                            <table id="cart_summary" class="cart_summery col-md-12 table-striped table">
                                <thead>
                                    <tr>
                                        <th class="cart_product" style="width:20%">ID</th>
                                        <th class="order_date" style="width:20%">Submit Date</th>
                                        <th class="order_date" style="width:20%">Num of Products</th>
                                        <th class="order_total" style="width:20%">Total Amount</th>
                                        <th class="order_note" style="width:20%">Note</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in completeOrders)
                                    {
                                        <tr data-id="@item.OrderId" data-toggle="modal" class="clickable-row">
                                            <td class="cart_product_content">@item.OrderId</td>
                                            <td class="order_date">@item.CreatedAt</td>
                                            <td class="order_date">@item.CountProduct</td>
                                            <td class="order_total">@item.TotalAmount</td>
                                            <td class="order_note"></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <h5>Have no Orders yet.</h5>
                        }
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="canceled">
                <div class="row">
                    <div class="panel-body">
                        @if (!canceledOrders.IsNullOrEmpty())
                        {
                            <table id="cart_summary" class="cart_summery col-md-12 table-striped table">
                                <thead>
                                    <tr>
                                        <th class="cart_product" style="width:20%">ID</th>
                                        <th class="order_date" style="width:20%">Submit Date</th>
                                        <th class="order_date" style="width:20%">Num of Products</th>
                                        <th class="order_total" style="width:20%">Total Amount</th>
                                        <th class="order_note" style="width:20%">Note</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in canceledOrders)
                                    {
                                        <tr data-id="@item.OrderId" data-toggle="modal" class="clickable-row">
                                            <td class="cart_product_content">@item.OrderId</td>
                                            <td class="order_date">@item.CreatedAt</td>
                                            <td class="order_date">@item.CountProduct</td>
                                            <td class="order_total">@item.TotalAmount</td>
                                            <td class="order_note"></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <h5>Have no Orders yet.</h5>
                        }
                    </div>
                </div>
            </div>
            <div class="dataTables_paginate paging_simple_numbers" id="table1_paginate">
                <ul class="pagination">
                    <li class="paginate_button previous disabled" id="table1_previous">
                        <a href="#" aria-controls="table1" data-dt-idx="0" tabindex="0">Previous</a>
                    </li>
                    <li class="paginate_button active">
                        <a href="#" aria-controls="table1" data-dt-idx="1" tabindex="0">1</a>
                    </li>
                    <li class="paginate_button "><a href="#" aria-controls="table1" data-dt-idx="2" tabindex="0">2</a></li>
                    <li class="paginate_button "><a href="#" aria-controls="table1" data-dt-idx="3" tabindex="0">3</a></li>
                    <li class="paginate_button "><a href="#" aria-controls="table1" data-dt-idx="4" tabindex="0">4</a></li>
                    <li class="paginate_button "><a href="#" aria-controls="table1" data-dt-idx="5" tabindex="0">5</a></li>
                    <li class="paginate_button "><a href="#" aria-controls="table1" data-dt-idx="6" tabindex="0">6</a></li>
                    <li class="paginate_button next" id="table1_next"><a href="#" aria-controls="table1" data-dt-idx="7" tabindex="0">Next</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div id="orderDetailModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg" style="left: auto;">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h3>Order Detail</h3>
            </div>
            <div class="modal-body" style="padding: 0 10px 30px">
                <div class="content-block">
                </div>
                <br />
                @*<button id="processBtn" class="btn-success btn">PROCESS</button>*@
            </div>
        </div>
    </div>
</div>
