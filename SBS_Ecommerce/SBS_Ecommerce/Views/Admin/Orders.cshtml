@using SBS_Ecommerce.Models;
@using SBS_Ecommerce.Framework;
@using SBS_Ecommerce.Framework.Configurations;
@{
    ViewBag.Title = "Orders";
    Layout = "~/Views/Admin/_LayoutAdmin.cshtml";
    var domain = SBSConstants.Domain;
    List<Order> pendingOrders = ViewBag.PendingOrders;
    List<Order> processingOrders = ViewBag.ProcessingOrders;
    List<Order> completeOrders = ViewBag.ProcessingOrders;
    List<Order> canceledOrders = ViewBag.CancelOrders;
}

<div id="order-manage">
    <div class="col-md-12">
        <h2>Orders</h2>
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active"><a href="#pending" role="tab" data-toggle="tab">Pending</a></li>
            <li role="presentation"><a href="#processing" role="tab" data-toggle="tab">Processing</a></li>
            <li role="presentation"><a href="#completed" role="tab" data-toggle="tab">Completed</a></li>
            <li role="presentation"><a href="#canceled" role="tab" data-toggle="tab">Canceled</a></li>
        </ul>
        <br>
        <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade in active" id="pending">
                <div class="row">
                    <div class="panel-body">
                        @if (!pendingOrders.IsNullOrEmpty())
                        {
                            <table id="cart_summary" class="cart_summery col-md-12 table-striped table">
                                <thead>
                                    <tr>
                                        <th class="cart_product" style="width:20%">Id</th>
                                        <th class="order_date" style="width:20%">Submit Date</th>
                                        <th class="order_total" style="width:40%">Total Amount</th>
                                        <th class="order_note" style="width:20%">Note</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in pendingOrders)
                                    {
                                        <tr data-id="@item.OderId" data-toggle="modal" data-target="#orderDetail">
                                            <td class="cart_product_content">@item.OderId</td>
                                            <td class="order_date">@item.CreatedAt</td>
                                            <td class="order_total">@item.TotalAmount</td>
                                            <td class="order_note"></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <h5>Have no Orders yet.</h5>
                        }
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="processing">
                <div class="row">
                    <div class="panel-body">
                        @if (!processingOrders.IsNullOrEmpty())
                        {
                            <table id="cart_summary" class="cart_summery col-md-12 table-striped table">
                                <thead>
                                    <tr>
                                        <th class="cart_product" style="width:20%">Id</th>
                                        <th class="order_date" style="width:20%">Submit Date</th>
                                        <th class="order_total" style="width:40%">Total Amount</th>
                                        <th class="order_note" style="width:20%">Note</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in processingOrders)
                                    {
                                        <tr data-id="@item.OderId">
                                            <td class="cart_product_content">@item.OderId</td>
                                            <td class="order_date">@item.CreatedAt</td>
                                            <td class="order_total">@item.TotalAmount</td>
                                            <td class="order_note"></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <h5>Have no Orders yet.</h5>
                        }
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="completed">
                <div class="row">
                    <div class="panel-body">
                        @if (!completeOrders.IsNullOrEmpty())
                        {
                            <table id="cart_summary" class="cart_summery col-md-12 table-striped table">
                                <thead>
                                    <tr>
                                        <th class="cart_product" style="width:20%">Id</th>
                                        <th class="order_date" style="width:20%">Submit Date</th>
                                        <th class="order_total" style="width:40%">Total Amount</th>
                                        <th class="order_note" style="width:20%">Note</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in completeOrders)
                                    {
                                        <tr data-id="@item.OderId">
                                            <td class="cart_product_content">@item.OderId</td>
                                            <td class="order_date">@item.CreatedAt</td>
                                            <td class="order_total">@item.TotalAmount</td>
                                            <td class="order_note"></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <h5>Have no Orders yet.</h5>
                        }
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="canceled">
                <div class="row">
                    <div class="panel-body">
                        @if (!canceledOrders.IsNullOrEmpty())
                        {
                            <table id="cart_summary" class="cart_summery col-md-12 table-striped table">
                                <thead>
                                    <tr>
                                        <th class="cart_product" style="width:20%">Id</th>
                                        <th class="order_date" style="width:20%">Submit Date</th>
                                        <th class="order_total" style="width:40%">Total Amount</th>
                                        <th class="order_note" style="width:20%">Note</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in canceledOrders)
                                    {
                                        <tr data-id="@item.OderId">
                                            <td class="cart_product_content">@item.OderId</td>
                                            <td class="order_date">@item.CreatedAt</td>
                                            <td class="order_total">@item.TotalAmount</td>
                                            <td class="order_note"></td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <h5>Have no Orders yet.</h5>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="orderDetail" class="modal fade" role="dialog" style="top: 50%; transform: translateY(-50%);">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">                
                <button type="button" class="close btn btn-default" data-dismiss="modal">&times;</button>
                <h4><strong>Order Detail</strong></h4>
                <hr />
            </div>            
            <div class="modal-body">                
                <div class="cart_product_content">
                    <strong>ID:</strong> 
                    <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                </div>
                <div class="order_date">
                    <strong> Date:</strong> 
                    <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                </div>
                <div class="order_total">
                    <strong>Total Amount:</strong> 
                    <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                </div>
                <div class="order_note">
                    <strong>Note:</strong> 
                    <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                </div>
            </div>
        </div>
    </div>
</div>
