@model SBS_Ecommerce.Models.Order
@using SBS_Ecommerce.Models;
@using SBS_Ecommerce.Framework.Configurations;
@{
    Layout = "~/Views/Theme/Theme3/_Layout.cshtml";
}
<style>
  .bs-wizard {margin-top: 40px;}
 .model-body-show{
        overflow-y:scroll;
        max-height:500px;
    }
/*Form Wizard*/
.bs-wizard {border-bottom: solid 1px #e0e0e0; padding: 0 0 10px 0;}
.bs-wizard > .bs-wizard-step {padding: 0; position: relative;}
.bs-wizard > .bs-wizard-step + .bs-wizard-step {}
.bs-wizard > .bs-wizard-step .bs-wizard-stepnum {color: #595959; font-size: 16px; margin-bottom: 5px;}
.bs-wizard > .bs-wizard-step .bs-wizard-info {color: #999; font-size: 14px;}
.bs-wizard > .bs-wizard-step > .bs-wizard-dot {position: absolute; width: 30px; height: 30px; display: block; background: #fbe8aa; top: 45px; left: 50%; margin-top: -21px; margin-left: -15px; border-radius: 50%;} 
.bs-wizard > .bs-wizard-step > .bs-wizard-dot:after {content: ' '; width: 14px; height: 14px; background: #fbbd19; border-radius: 50px; position: absolute; top: 8px; left: 8px; } 
.bs-wizard > .bs-wizard-step > .progress {position: relative; border-radius: 0px; height: 8px; box-shadow: none; margin: 20px 0;}
.bs-wizard > .bs-wizard-step > .progress > .progress-bar {width:0px; box-shadow: none; background: #fbe8aa;}
.bs-wizard > .bs-wizard-step.complete > .progress > .progress-bar {width:100%;}
.bs-wizard > .bs-wizard-step.active > .progress > .progress-bar {width:50%;}
.bs-wizard > .bs-wizard-step:first-child.active > .progress > .progress-bar {width:0%;}
.bs-wizard > .bs-wizard-step:last-child.active > .progress > .progress-bar {width: 100%;}
.bs-wizard > .bs-wizard-step.disabled > .bs-wizard-dot {background-color: #f5f5f5;}
.bs-wizard > .bs-wizard-step.disabled > .bs-wizard-dot:after {opacity: 0;}
.bs-wizard > .bs-wizard-step:first-child  > .progress {left: 50%; width: 50%;}
.bs-wizard > .bs-wizard-step:last-child  > .progress {width: 50%;}
.bs-wizard > .bs-wizard-step.disabled a.bs-wizard-dot{ pointer-events: none; }
/*END Form Wizard*/
</style>
<div class="main-wrap static-page">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="page-heading">
                    <h4 class="page-title">Order status</h4>
                </div>
            </div>
        </div>
   
        <div class="row">
            <div class="col-md-12">
                <div class="row bs-wizard" style="border-bottom:0;">

                    <div class="col-xs-3 bs-wizard-step complete">
                        <div class="text-center bs-wizard-stepnum">Pending</div>
                        <div class="progress"><div class="progress-bar"></div></div>
                        <a href="#" class="bs-wizard-dot"></a>
                        <div class="bs-wizard-info text-center">.</div>
                    </div>

                    <div class="col-xs-3 bs-wizard-step complete">
                        <!-- complete -->
                        <div class="text-center bs-wizard-stepnum">Processing</div>
                        <div class="progress"><div class="progress-bar"></div></div>
                        <a href="#" class="bs-wizard-dot"></a>
                        <div class="bs-wizard-info text-center"></div>
                    </div>

                    <div class="col-xs-3 bs-wizard-step active">
                        <!-- complete -->
                        <div class="text-center bs-wizard-stepnum">Paid</div>
                        <div class="progress"><div class="progress-bar"></div></div>
                        <a href="#" class="bs-wizard-dot"></a>
                        <div class="bs-wizard-info text-center"></div>
                    </div>

                    <div class="col-xs-3 bs-wizard-step disabled">
                        <!-- active -->
                        <div class="text-center bs-wizard-stepnum">Delivered</div>
                        <div class="progress"><div class="progress-bar"></div></div>
                        <a href="#" class="bs-wizard-dot"></a>
                        <div class="bs-wizard-info text-center"></div>
                    </div>
                </div>
                <div class="col-md-6 col-md-offset-3" id="order-content-block">
                    <div class="border-order-status">
                        <div class="row">
                            <div class="col-xs-12">
                                <label class="title-order-status-header order-status-header" id="order-status-header">The product is processing.</label>
                            </div>

                            <div class="col-xs-12">
                                <p>
                                    Your order number is:
                                    <span class="title-order-status">
                                        <a onclick="ShowPopupOrderDetail()" class="title-order-status-href">@Model.OderId</a>
                                    </span>
                                </p>
                            </div>
                        </div>

                        <hr class="order-status-tracking_hr-1">
                        <hr class="order-status-tracking_hr-2">

                        <div class="row form-group">
                            <div class="col-xs-2">
                            </div>

                            <div class="col-xs-10 text-left">
                                <div>
                                    <span>The time order created</span>
                                </div>

                                <div>
                                    <span class="title-order-status">
                                        @Model.CreatedAt
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="row form-group">
                            <div class="col-xs-2">
                            </div>

                            <div class="col-xs-10 text-left">
                           
                                <div class="row">
                                    <div class="col-xs-3">
                                        <h5>Address:</h5>
                                    </div>

                                    <div class="col-xs-9">
                                        <span>2 Orchard Road Name_uyen updated, Singapore 1, Singapore 2, Singapore, 239122</span>
                                    </div>
                                </div>
                                <br>
                                <br>
                                <div class="row">
                                    <div class="col-xs-3">
                                        <h5>Phone:</h5>
                                    </div>

                                    <div class="col-xs-9">
                                        <span></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr>
                        <div class="row text-center">
                            <div class="col-sm-12">
                                <div>
                                    <button type="button" class="btn btn-space btn-default"  onclick="ShowPopupOrderDetail()">
                                        View Order Detail
                                    </button>
                                </div>
                            </div>
                        </div>
                        <br>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade" id="modalOrderDetail" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Order #@Model.OderId</h4>
            </div>
            <div class="modal-body">
                <div class="main-wrap static-page model-body-show">
                    @{ 
                        if (ViewBag.OrderDetail!=null)
                        {
                            List<OrderDetail> lstOrderDetail = (List<OrderDetail>)ViewBag.OrderDetail;
                       
                    <div class="row">
                        <div class="col-md-12">
                            <table id="cart_summary" class="cart_summery">
                                <tbody>
                                    <tr>
                                        <th class="cart_product">Product</th>
                                        <th class="cart_description">Product name</th>
                                        <th class="cart_unit_price">Unit price</th>
                                        <th class="cart_quantity">Qty</th>
                                        <th class="cart_total">Total</th>
                                    </tr>
                                    @foreach (var item in lstOrderDetail)
                                    {
                                        <tr>
                                            <td class="cart_product_content"><img src="@SBSConstants.Domain@item.ProductImg" alt="Product on cart"></td>
                                            <td class="cart_desc_content">
                                                <h5>@item.ProductName</h5>
                                            </td>
                                            <td class="cart_unit_price_content"><span class="price">@Model.Currency @item.Price</span></td>
                                            <td class="cart_quantity_content"><span class="price">@item.Quantity</span></td>
                                            <td class="cart_total_item_price"><span class="price">@Model.Currency @(item.Price * item.Quantity)</span></td>
                                        </tr>
                                    }
                                    <tr class="cart_total_price">
                                        <td rowspan="2" colspan="2" id="cart_voucher" class="cart_voucher"></td>
                                        <td colspan="2" class="text-right">Total products</td>
                                        <td class="price" id="total_product"><span class="price">@Model.Currency @(Model.TotalAmount)</span></td>
                                    </tr>
                                    <tr class="cart_total_delivery">
                                        <td colspan="2" class="text-right">Total shipping</td>
                                        <td class="price" id="total_shipping">@Model.Currency </td>
                                    </tr>
                                    <tr class="cart_total_end_price">
                                        <td colspan="4" class="total_price_container text-right"> <span>Total</span></td>
                                        <td class="price" id="total_price_container">
                                            <span class="total_price price">@Model.Currency @Model.TotalAmount</span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                        }
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function ShowPopupOrderDetail() {
        $("#modalOrderDetail").modal('show');
    }
</script>