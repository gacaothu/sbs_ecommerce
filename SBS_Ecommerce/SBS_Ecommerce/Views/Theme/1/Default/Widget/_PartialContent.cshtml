@using SBS_Ecommerce.Models.DTOs;
@using SBS_Ecommerce.Framework;
@{
    var domain = SBS_Ecommerce.Framework.Configurations.SBSConstants.Domain;
    var company = SBSCommon.Instance.GetCompany();
    List<Category> lstCategory = SBSCommon.Instance.GetCategories();
    List<Product> lstProduct = SBSCommon.Instance.GetProducts().Take(9).ToList();
    List<Product> lstArrivals = SBSCommon.Instance.GetListArrivals().Take(12).ToList();
    List<Product> lstBestSeller = SBSCommon.Instance.GetListBestSeller().Take(12).ToList();
}
<div class="row">
    <div class="col-lg-3 col-sm-4">
        <div class="module shop-widget category-widget secondary-module">
            <h4 class="module-title"><i class="fa fa-bars" aria-hidden="true"></i>Categories<span class="toggle-btn"></span></h4>
            <div class="module-content mobile-collapse">
                <ul class="menu side-menu">
                    @foreach (var item in lstCategory)
                    {
                        <li class="menu-item"><a href="@Url.Content("~/Product/Search?&cgID="+@item.Category_ID+"&filter=false&currentPage=1")"><i class="fa fa-bullseye" aria-hidden="true"></i>@item.Category_Name</a></li>
                    }
                </ul>
            </div>
        </div>
        <!--------------- Top Seller Module --------------->
        <div class="module shop-widget top-widget secondary-module">
            <h4 class="module-title linked-title"><a href="javascript:;"><i class="fa fa-check-square" aria-hidden="true"></i>Top sellers</a><span class="toggle-btn"></span></h4>
            <div class="module-content mobile-collapse">
                <ul class="widget-products">
                    @foreach (var item in lstBestSeller.Take(5))
                    {
                        <li class="widget-product">
                            <a class="widget-item-img" href="@Url.Action("Details", "Product", new { id = item.Product_ID})">
                                <img src="@(domain + item.Small_Img)" style="width:auto; height:auto; max-height: 100%" alt="Product Thumb">
                            </a>
                            <div class="widget-product-content">
                                <h5 class="product-name"><a href="@Url.Action("Details", "Product", new { id = item.Product_ID})">@item.Product_Name</a></h5>
                                <div class="rating" itemtype="http://schema.org/Offer" itemscope>
                                    <div class="star_rating" itemtype="http://schema.org/AggregateRating" itemscope itemprop="aggregateRating">
                                        @for (int i = 0; i < 5; i++)
                                        {
                                            if (i < item.Star_Rating)
                                            {
                                                <span class="star star_full"></span>
                                            }
                                            else
                                            {
                                                <span class="star"></span>
                                            }
                                        }
                                        <meta itemprop="worstRating" content="0">
                                        <meta itemprop="ratingValue" content="5">
                                        <meta itemprop="bestRating" content="5">
                                    </div>
                                </div>
                                <p class="price">@company.Currency_Code @(item.Promotion_Price != null && item.Promotion_Price >= 0 ? item.Promotion_Price : item.Selling_Price)</p>

                            </div>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </div>
    <div class="col-lg-9 col-sm-8">
        <!--------------- Main Product Widget --------------->
        <div class="module shop-widget product-module">
            <!-- Product tabs -->
            <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#new" aria-controls="new" role="tab" data-toggle="tab">New Arrivals</a></li>
                <li role="presentation"><a href="#bestsellers" aria-controls="bestsellers" role="tab" data-toggle="tab">Bestsellers</a></li>
            </ul>

            <div class="tab-content">
                <div role="tabpanel" class="tab-pane fade in active" id="new">
                    <div class="row">
                        <div class="product-container">
                            @foreach (var item in lstArrivals)
                            {
                                <div class="product col-lg-4 col-sm-6 new custom">
                                    <div class="product-thumb">
                                        <a href="@Url.Action("Details", "Product", new { id = item.Product_ID})" class="thumb-link">
                                            <img class="hover-img" src="@(domain + item.Small_Img)" alt="Product Hover">
                                            <img class="front-img" src="@(domain + item.Small_Img)" alt="Product Front">
                                        </a>
                                        <div class="attr-group">
                                            <span class="new">New</span>
                                        </div>
                                        <div class="product-btn">
                                            @if (item.Stocked_Quantity <= 0 && item.Allowable_PreOrder)
                                            {
                                                <a class="to-cart" style="cursor:pointer;" onclick="addToCart('@item.Product_ID', 1)"><i class="fa fa-shopping-cart"></i><span class="tooltip">Pre Order</span></a>
                                            }
                                            else
                                            {
                                                <a class="to-cart" style="cursor:pointer;" onclick="addToCart('@item.Product_ID', 1)"><i class="fa fa-shopping-cart"></i><span class="tooltip">Add To Cart</span></a>
                                            }
                                            <a class="to-wish" style="cursor:pointer;" onclick='addToWishlist(@item.Product_ID)'><i class="fa fa-heart"></i><span class="tooltip">Add To Wishlist</span></a>
                                        </div>
                                    </div>
                                    <div class="product-info">
                                        <h5 class="product-name"><a href="@Url.Action("Details", "Product", new { id = item.Product_ID})">@item.Product_Name</a></h5>
                                        <div class="rating" itemtype="http://schema.org/Offer" itemscope>
                                            <div class="star_rating" itemtype="http://schema.org/AggregateRating" itemscope itemprop="aggregateRating">
                                                @for (int i = 0; i < 5; i++)
                                                {
                                                    if (i < item.Star_Rating)
                                                    {
                                                        <span class="star star_full"></span>
                                                    }
                                                    else
                                                    {
                                                        <span class="star"></span>
                                                    }
                                                }
                                                <meta itemprop="worstRating" content="0">
                                                <meta itemprop="ratingValue" content="4">
                                                <meta itemprop="bestRating" content="5">
                                            </div>
                                        </div>

                                        <p class="price">@company.Currency_Code @(item.Promotion_Price != null && item.Promotion_Price >= 0 ? item.Promotion_Price : item.Selling_Price)</p>

                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="bestsellers">
                    <div class="row">
                        <div class="product-container">
                            @foreach (var item in lstBestSeller)
                            {
                                <div class="product col-lg-4 col-sm-6 new custom">
                                    <div class="product-thumb">
                                        <a href="@Url.Action("Details", "Product", new { id = item.Product_ID})" class="thumb-link">
                                            <img class="hover-img" src="@(domain + item.Small_Img)" alt="Product Hover">
                                            <img class="front-img" src="@(domain + item.Small_Img)" alt="Product Front">
                                        </a>
                                        <div class="product-btn">
                                            @if (item.Stocked_Quantity <= 0 && item.Allowable_PreOrder)
                                            {
                                                <a class="to-cart" style="cursor:pointer;" onclick="addToCart('@item.Product_ID', 1)"><i class="fa fa-shopping-cart"></i><span class="tooltip">Pre Order</span></a>
                                            }
                                            else
                                            {
                                                <a class="to-cart" style="cursor:pointer;" onclick="addToCart('@item.Product_ID', 1)"><i class="fa fa-shopping-cart"></i><span class="tooltip">Add To Cart</span></a>
                                            }
                                            <a class="to-wish" style="cursor:pointer;" onclick='addToWishlist(@item.Product_ID)'><i class="fa fa-heart"></i><span class="tooltip">Add To Wishlist</span></a>
                                        </div>
                                    </div>
                                    <div class="product-info">
                                        <h5 class="product-name"><a href="@Url.Action("Details", "Product", new { id = item.Product_ID})">@item.Product_Name</a></h5>
                                        <div class="rating" itemtype="http://schema.org/Offer" itemscope>
                                            <div class="star_rating" itemtype="http://schema.org/AggregateRating" itemscope itemprop="aggregateRating">
                                                @for (int i = 0; i < 5; i++)
                                                {
                                                    if (i < item.Star_Rating)
                                                    {
                                                        <span class="star star_full"></span>
                                                    }
                                                    else
                                                    {
                                                        <span class="star"></span>
                                                    }
                                                }
                                                <meta itemprop="worstRating" content="0">
                                                <meta itemprop="ratingValue" content="4">
                                                <meta itemprop="bestRating" content="5">
                                            </div>
                                        </div>
                                        <p class="price">@company.Currency_Code @(item.Promotion_Price != null && item.Promotion_Price >= 0 ? item.Promotion_Price : item.Selling_Price)</p>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="featured">
                    <div class="row">
                        <div class="product-container">
                        </div>
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="mostviewed">
                    <div class="row">
                        <div class="product-container">
                        </div>
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="custom">
                    <div class="row">
                        <div class="product-container">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
